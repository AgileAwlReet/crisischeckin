@using System.Web.Optimization

@model crisicheckinweb.ViewModels.VolunteerViewModel
@{
    ViewBag.Title = "Volunteer Home";
    Layout = "~/Views/Shared/_VolunteerLayout.cshtml";
}

<h2>Volunteer Home</h2>

<h3>My Disasters</h3>

<style>
    table, th, tr, td
    {
        padding: 10px;
        border:1px solid green;
    }

</style>

<table>
    <tr>
        <th>Disaster Name</th>
        <th>Start Date</th>
        <th>End Date</th>
        <th>Active</th>
    </tr>
    @foreach(var comm in Model.MyCommitments) { 
    <tr>
        <td>@comm.Disaster.Name</td>
        <td>@comm.StartDate.ToShortDateString()</td>
        <td>@comm.EndDate.ToShortDateString()</td>
        <td>@(comm.Disaster.IsActive == true ? "Yes" : "No") </td>
    </tr>
    }
</table>

@using (Html.BeginForm("Assign", "Home")) {
    @Html.AntiForgeryToken()

 <h3>Volunteer for Disaster: </h3>
    @Html.ValidationSummary()
    
    @Html.DropDownListFor(m => m.SelectedDisaster, new SelectList(Model.Disasters, "Id", "Name", Model.SelectedDisaster), "-- Choose One --")

    <label>Start Date:</label>
    @Html.TextBoxFor(m => m.SelectedStartDate, new { id="dp_startDate" })
    
    <label>End Date:</label>
    @Html.TextBoxFor(m => m.SelectedEndDate, new { id="dp_endDate" })
    
    <input id="GoButton" type="submit" value="Volunteer"/>
    
}

<script type="text/javascript">
(function ($) {
    $(document).ready(function () {
        $("#dp_startDate").datepicker().datepicker('setDate', new Date());
        $("#dp_endDate").datepicker().datepicker('setDate', '+1');
    });
})(jQuery);
</script>